(this["webpackJsonpcontact-web"]=this["webpackJsonpcontact-web"]||[]).push([[0],{42:function(e,t,a){},43:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(10),o=a.n(i),s=(a(42),a(43),a(15)),r=a(16),l=a(36),d=a(35),j=a(14),h=a(11),b=a(79),u=a(1);var O=function(e){return Object(u.jsxs)(b.a,{responsive:"sm",size:"md",hover:!0,bordered:!0,children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Name"}),Object(u.jsx)("th",{children:"Age"}),Object(u.jsx)("th",{children:"Avatar"}),Object(u.jsx)("th",{children:"Actions"})]})}),Object(u.jsx)("tbody",{children:e.data.length>0?e.data.map((function(t,a){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:"".concat(t.firstName||""," ").concat(t.lastName)}),Object(u.jsx)("td",{children:t.age}),Object(u.jsx)("td",{children:"N/A"!==t.photo?Object(u.jsx)("img",{src:t.photo,alt:"avatar",style:{height:"50px",width:"50px",borderRadius:100}}):Object(u.jsx)("p",{style:{fontSize:20},children:"No photo available"})}),Object(u.jsxs)("td",{children:[Object(u.jsx)(h.a,{variant:"outline-primary",onClick:function(){e.handleEdit(t)},size:"sm",children:"Edit"})," ",Object(u.jsx)(h.a,{variant:"outline-danger",onClick:function(){e.handleDelete(t)},size:"sm",children:"Delete"})," ",Object(u.jsx)(h.a,{variant:"outline-info",onClick:function(){e.handleDetail(t.id)},size:"sm",children:"Detail"})]})]},a)})):Object(u.jsx)("tr",{children:Object(u.jsx)("td",{colSpan:4,children:"No contacts..."})})})]})},x=a(80),p=a(82),m=a(83),f=a(34),g=a(81),v=a(13),y=a.n(v),C="https://simple-contact-crud.herokuapp.com",w=a(12),N=a.n(w),A={age:void 0,firstName:"",id:"",lastName:"",photo:"N/A"};var D=function(){var e=c.a.useState(!1),t=Object(j.a)(e,2),a=t[0],n=t[1],i=c.a.useState(""),o=Object(j.a)(i,2),b=o[0],v=o[1],w=c.a.useState(A),D=Object(j.a)(w,2),k=D[0],z=D[1],E=c.a.useState(!1),S=Object(j.a)(E,2),L=S[0],F=S[1],B=c.a.useState([]),R=Object(j.a)(B,2),T=R[0],G=R[1];c.a.useEffect((function(){I()}),[]),c.a.useEffect((function(){F(!1)}),[a]);var I=function(){y.a.get("".concat(C,"/contact")).then((function(e){console.log(e.data.data),G(e.data.data),n(!1)}))},P=function(e){var t=e.target.value;z(""!==t&&null!==t?Object(r.a)(Object(r.a)({},k),{},Object(s.a)({},e.target.id,t)):Object(r.a)(Object(r.a)({},k),{},Object(s.a)({},e.target.id,"")))},q=function(){z(A),n(!1)};return Object(u.jsxs)(x.a,{children:[Object(u.jsx)("p",{style:{textAlign:"left"},children:"Contact List"}),Object(u.jsx)(h.a,{variant:"primary",size:"sm",onClick:function(){z(A),v("Add"),n(!0)},children:"Add New"}),Object(u.jsx)("div",{style:{backgroundColor:"white",width:window.screen.width-200,padding:5}}),Object(u.jsx)(O,{actionType:b,data:T,setActionType:v,handleEdit:function(e){console.log(e),z(e),v("Edit"),n(!0)},handleDelete:function(e){v("delete"),N.a.fire({title:"Are you sure you want to delete this contact?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(t){var a;t.isConfirmed&&(a=e.id,y.a.delete("".concat(C,"/contact/").concat(a))).then((function(e){console.log(e.data.message),N.a.fire("",e.data.message,"info"),I()})).catch((function(e){console.log(e),N.a.fire("",e.message,"error"),I()}))}))},handleDetail:function(e){console.log(e),v("Detail"),function(e){return y.a.get("".concat(C,"/contact/").concat(e))}(e).then((function(e){console.log(e.data.data),z(e.data.data),n(!0)}))}}),Object(u.jsxs)(p.a,{show:a,onHide:q,size:"lg",centered:!0,children:[Object(u.jsx)(p.a.Header,{children:Object(u.jsx)(p.a.Title,{children:"Edit"===b?"Edit Contact":"Add New Contact"})}),Object(u.jsx)(p.a.Body,{children:Object(u.jsxs)(m.a,{noValidate:!0,validated:L,onSubmit:function(e){var t=e.currentTarget;console.log(t);var a,n=function(e,t){e[t];return Object(l.a)(e,[t].map(d.a))};!1===t.checkValidity()?(F(!0),e.preventDefault(),e.stopPropagation()):(F(!0),e.preventDefault(),"Add"===b?(a=n(k,"id"),y.a.post("".concat(C,"/contact"),a)).then((function(e){N.a.fire("Saved!","Contact has been saved.","info"),I()})).catch((function(e){N.a.fire("",e.message,"error"),I()})):function(e,t){return y.a.put("".concat(C,"/contact/").concat(e),t)}(k.id,n(k,"id")).then((function(e){"Contact edited"===e.data.message&&N.a.fire(e.data.message,"","info"),I()})).catch((function(e){N.a.fire("",e.message,"error"),I()})))},children:[Object(u.jsx)(m.a.Group,{children:Object(u.jsxs)(m.a.Row,{children:[Object(u.jsx)(m.a.Label,{column:"sm",lg:2,children:"First Name"}),Object(u.jsxs)(f.a,{children:[Object(u.jsx)(m.a.Control,{required:!0,size:"sm",type:"text",placeholder:"Input first name",id:"firstName",value:k.firstName,onChange:P,readOnly:"Detail"===b}),Object(u.jsx)(m.a.Control.Feedback,{type:"invalid",children:"First name cannot be empty."})]})]})}),Object(u.jsx)(m.a.Group,{children:Object(u.jsxs)(m.a.Row,{children:[Object(u.jsx)(m.a.Label,{column:"sm",lg:2,children:"LastName"}),Object(u.jsxs)(f.a,{children:[Object(u.jsx)(m.a.Control,{required:!0,size:"sm",type:"text",placeholder:"Input last name",id:"lastName",value:k.lastName,onChange:P,readOnly:"Detail"===b}),Object(u.jsx)(m.a.Control.Feedback,{type:"invalid",children:"Last name cannot be empty."})]})]})}),Object(u.jsx)(m.a.Group,{children:Object(u.jsxs)(m.a.Row,{children:[Object(u.jsx)(m.a.Label,{column:"sm",lg:2,children:"Age"}),Object(u.jsxs)(f.a,{children:[Object(u.jsx)(m.a.Control,{required:!0,size:"sm",type:"number",placeholder:"Input age",id:"age",value:k.age,onChange:P,readOnly:"Detail"===b}),Object(u.jsx)(m.a.Control.Feedback,{type:"invalid",children:"Age cannot be empty."})]})]})}),"Detail"!==b?Object(u.jsx)(m.a.Group,{children:Object(u.jsxs)(m.a.Row,{children:[Object(u.jsx)(m.a.Label,{column:"sm",lg:2,children:"Photo"}),Object(u.jsx)(f.a,{children:Object(u.jsx)(m.a.Control,{size:"sm",type:"string",placeholder:"Input link photo",id:"photo",value:k.photo,onChange:P,readOnly:"Detail"===b})})]})}):Object(u.jsx)(m.a.Group,{children:Object(u.jsxs)(m.a.Row,{children:[Object(u.jsx)(m.a.Label,{column:"sm",lg:2,children:"Preview Photo"}),Object(u.jsx)(f.a,{children:"N/A"!==k.photo?Object(u.jsx)("img",{src:k.photo,alt:"avatar",style:{height:"50px",width:"50px",borderRadius:100}}):Object(u.jsx)("p",{children:"No photo available"})})]})}),Object(u.jsx)(m.a.Group,{as:g.a,children:Object(u.jsxs)(f.a,{sm:{span:10,offset:2},children:[Object(u.jsx)(h.a,{variant:"secondary",size:"sm",onClick:function(){F(!1),q()},children:"Close"}),"  ","Detail"!==b&&Object(u.jsx)(h.a,{variant:"primary",size:"sm",type:"submit",children:"Edit"===b?"Edit Contact":"Add New Contact"})]})})]})})]})]})};a(76);var k=function(){return Object(u.jsx)("div",{children:Object(u.jsx)("header",{className:"App-header",children:Object(u.jsx)(D,{})})})},z=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,84)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),i(e),o(e)}))};o.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(k,{})}),document.getElementById("root")),z()}},[[77,1,2]]]);
//# sourceMappingURL=main.0da73558.chunk.js.map